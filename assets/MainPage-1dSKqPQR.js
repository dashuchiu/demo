import{O as ye,e as je,q as Oe,r as N,h as R,B as e,w as Z,ad as Ve,Y as Ce,ae as Re,af as Fe,Q as Ke,i as Ge,ag as Ue,k as Ie,p as se,s as we,ah as We,v as B,D as V,x as ae,y as r,C as ee,z as m,A as O,F as x,a0 as u,ai as he,aj as Ye,ak as te,al as _e,L as Y,am as Xe,H as be,N as ke,I as ce,a1 as fe,K as X,_ as Se,g as Ee,an as qe,ao as Je,j as Qe,S as Ze,T as xe,X as et,J as W,ab as tt,ac as at}from"./index-bayp96YF.js";import{_ as st,l as ot,m as nt,j as lt,E as rt,k as it}from"./plugin-vueexport-helper-G55EKMhO.js";import{t as pe,E as ut,a as ct,b as ft}from"./el-image-viewer-Cn9Y4wS6.js";import{f as dt,L as vt}from"./LayoutContainer-iCao_4Uc.js";import{u as mt}from"./index-Bn5KGYAD.js";import"./debounce-CD8YdIEW.js";const ht=ye({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),_t={change:(a,z)=>[a,z].every(je)},$e=Symbol("carouselContextKey"),ge=300,pt=(a,z,l)=>{const{children:o,addChild:A,removeChild:k}=mt(Ie(),"ElCarouselItem"),P=Oe(),s=N(-1),S=N(null),L=N(!1),g=N(),h=N(0),I=N(!0),y=N(!0),_=N(!1),D=R(()=>a.arrow!=="never"&&!e(E)),j=R(()=>o.value.some(t=>t.props.label.toString().length>0)),M=R(()=>a.type==="card"),E=R(()=>a.direction==="vertical"),d=R(()=>a.height!=="auto"?{height:a.height}:{height:`${h.value}px`,overflow:"hidden"}),n=pe(t=>{w(t)},ge,{trailing:!0}),c=pe(t=>{K(t)},ge),$=t=>I.value?s.value<=1?t<=1:t>1:!0;function p(){S.value&&(clearInterval(S.value),S.value=null)}function T(){a.interval<=0||!a.autoplay||S.value||(S.value=setInterval(()=>F(),a.interval))}const F=()=>{y.value||(_.value=!0),y.value=!1,s.value<o.value.length-1?s.value=s.value+1:a.loop&&(s.value=0)};function w(t){if(y.value||(_.value=!0),y.value=!1,Ge(t)){const U=o.value.filter(G=>G.props.name===t);U.length>0&&(t=o.value.indexOf(U[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const f=o.value.length,H=s.value;t<0?s.value=a.loop?f-1:0:t>=f?s.value=a.loop?0:f-1:s.value=t,H===s.value&&i(H),de()}function i(t){o.value.forEach((f,H)=>{f.translateItem(H,s.value,t)})}function q(t,f){var H,U,G,J;const Q=e(o),ve=Q.length;if(ve===0||!t.states.inStage)return!1;const Be=f+1,Ae=f-1,me=ve-1,Pe=Q[me].states.active,He=Q[0].states.active,ze=(U=(H=Q[Be])==null?void 0:H.states)==null?void 0:U.active,De=(J=(G=Q[Ae])==null?void 0:G.states)==null?void 0:J.active;return f===me&&He||ze?"left":f===0&&Pe||De?"right":!1}function ne(){L.value=!0,a.pauseOnHover&&p()}function le(){L.value=!1,T()}function re(){_.value=!1}function C(t){e(E)||o.value.forEach((f,H)=>{t===q(f,H)&&(f.states.hover=!0)})}function v(){e(E)||o.value.forEach(t=>{t.states.hover=!1})}function b(t){t!==s.value&&(y.value||(_.value=!0)),s.value=t}function K(t){a.trigger==="hover"&&t!==s.value&&(s.value=t,y.value||(_.value=!0))}function ie(){w(s.value-1)}function Ne(){w(s.value+1)}function de(){p(),a.pauseOnHover||T()}function Le(t){a.height==="auto"&&(h.value=t)}function Me(){var t;const f=(t=P.default)==null?void 0:t.call(P);if(!f)return null;const H=dt(f),U="ElCarouselItem",G=H.filter(J=>Ue(J)&&J.type.name===U);return(G==null?void 0:G.length)===2&&a.loop&&!M.value?(I.value=!0,G):(I.value=!1,null)}Z(()=>s.value,(t,f)=>{i(f),I.value&&(t=t%2,f=f%2),f>-1&&z("change",t,f)}),Z(()=>a.autoplay,t=>{t?T():p()}),Z(()=>a.loop,()=>{w(s.value)}),Z(()=>a.interval,()=>{de()});const ue=Ve();return Ce(()=>{Z(()=>o.value,()=>{o.value.length>0&&w(a.initialIndex)},{immediate:!0}),ue.value=Re(g.value,()=>{i()}),T()}),Fe(()=>{p(),g.value&&ue.value&&ue.value.stop()}),Ke($e,{root:g,isCardType:M,isVertical:E,items:o,loop:a.loop,addItem:A,removeItem:k,setActiveItem:w,setContainerHeight:Le}),{root:g,activeIndex:s,arrowDisplay:D,hasLabel:j,hover:L,isCardType:M,isTransitioning:_,items:o,isVertical:E,containerStyle:d,isItemsTwoLength:I,handleButtonEnter:C,handleTransitionEnd:re,handleButtonLeave:v,handleIndicatorClick:b,handleMouseEnter:ne,handleMouseLeave:le,setActiveItem:w,prev:ie,next:Ne,PlaceholderItem:Me,isTwoLengthShow:$,throttledArrowClick:n,throttledIndicatorHover:c}},gt=["aria-label"],yt=["aria-label"],Ct=["onMouseenter","onClick"],It=["aria-label"],wt={key:0},bt={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},kt=m("defs",null,[m("filter",{id:"elCarouselHorizontal"},[m("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),m("filter",{id:"elCarouselVertical"},[m("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),St=[kt],Et="ElCarousel",$t=se({name:Et}),Tt=se({...$t,props:ht,emits:_t,setup(a,{expose:z,emit:l}){const o=a,{root:A,activeIndex:k,arrowDisplay:P,hasLabel:s,hover:S,isCardType:L,items:g,isVertical:h,containerStyle:I,handleButtonEnter:y,handleButtonLeave:_,isTransitioning:D,handleIndicatorClick:j,handleMouseEnter:M,handleMouseLeave:E,handleTransitionEnd:d,setActiveItem:n,prev:c,next:$,PlaceholderItem:p,isTwoLengthShow:T,throttledArrowClick:F,throttledIndicatorHover:w}=pt(o,l),i=we("carousel"),{t:q}=We(),ne=R(()=>{const C=[i.b(),i.m(o.direction)];return e(L)&&C.push(i.m("card")),C}),le=R(()=>{const C=[i.e("container")];return o.motionBlur&&e(D)&&C.push(e(h)?`${i.namespace.value}-transitioning-vertical`:`${i.namespace.value}-transitioning`),C}),re=R(()=>{const C=[i.e("indicators"),i.em("indicators",o.direction)];return e(s)&&C.push(i.em("indicators","labels")),o.indicatorPosition==="outside"&&C.push(i.em("indicators","outside")),e(h)&&C.push(i.em("indicators","right")),C});return z({setActiveItem:n,prev:c,next:$}),(C,v)=>(B(),V("div",{ref_key:"root",ref:A,class:O(e(ne)),onMouseenter:v[7]||(v[7]=x((...b)=>e(M)&&e(M)(...b),["stop"])),onMouseleave:v[8]||(v[8]=x((...b)=>e(E)&&e(E)(...b),["stop"]))},[e(P)?(B(),ae(_e,{key:0,name:"carousel-arrow-left",persisted:""},{default:r(()=>[ee(m("button",{type:"button",class:O([e(i).e("arrow"),e(i).em("arrow","left")]),"aria-label":e(q)("el.carousel.leftArrow"),onMouseenter:v[0]||(v[0]=b=>e(y)("left")),onMouseleave:v[1]||(v[1]=(...b)=>e(_)&&e(_)(...b)),onClick:v[2]||(v[2]=x(b=>e(F)(e(k)-1),["stop"]))},[u(e(he),null,{default:r(()=>[u(e(Ye))]),_:1})],42,gt),[[te,(C.arrow==="always"||e(S))&&(o.loop||e(k)>0)]])]),_:1})):Y("v-if",!0),e(P)?(B(),ae(_e,{key:1,name:"carousel-arrow-right",persisted:""},{default:r(()=>[ee(m("button",{type:"button",class:O([e(i).e("arrow"),e(i).em("arrow","right")]),"aria-label":e(q)("el.carousel.rightArrow"),onMouseenter:v[3]||(v[3]=b=>e(y)("right")),onMouseleave:v[4]||(v[4]=(...b)=>e(_)&&e(_)(...b)),onClick:v[5]||(v[5]=x(b=>e(F)(e(k)+1),["stop"]))},[u(e(he),null,{default:r(()=>[u(e(Xe))]),_:1})],42,yt),[[te,(C.arrow==="always"||e(S))&&(o.loop||e(k)<e(g).length-1)]])]),_:1})):Y("v-if",!0),m("div",{class:O(e(le)),style:ke(e(I)),onTransitionend:v[6]||(v[6]=(...b)=>e(d)&&e(d)(...b))},[u(e(p)),be(C.$slots,"default")],38),C.indicatorPosition!=="none"?(B(),V("ul",{key:2,class:O(e(re))},[(B(!0),V(ce,null,fe(e(g),(b,K)=>ee((B(),V("li",{key:K,class:O([e(i).e("indicator"),e(i).em("indicator",C.direction),e(i).is("active",K===e(k))]),onMouseenter:ie=>e(w)(K),onClick:x(ie=>e(j)(K),["stop"])},[m("button",{class:O(e(i).e("button")),"aria-label":e(q)("el.carousel.indicator",{index:K+1})},[e(s)?(B(),V("span",wt,X(b.props.label),1)):Y("v-if",!0)],10,It)],42,Ct)),[[te,e(T)(K)]])),128))],2)):Y("v-if",!0),o.motionBlur?(B(),V("svg",bt,St)):Y("v-if",!0)],34))}});var Nt=Se(Tt,[["__file","carousel.vue"]]);const Lt=ye({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Mt=(a,z)=>{const l=Ee($e),o=Ie(),A=.83,k=N(),P=N(!1),s=N(0),S=N(1),L=N(!1),g=N(!1),h=N(!1),I=N(!1),{isCardType:y,isVertical:_}=l;function D(n,c,$){const p=$-1,T=c-1,F=c+1,w=$/2;return c===0&&n===p?-1:c===p&&n===0?$:n<T&&c-n>=w?$+1:n>F&&n-c>=w?-2:n}function j(n,c){var $,p;const T=e(_)?(($=l.root.value)==null?void 0:$.offsetHeight)||0:((p=l.root.value)==null?void 0:p.offsetWidth)||0;return h.value?T*((2-A)*(n-c)+1)/4:n<c?-(1+A)*T/4:(3+A)*T/4}function M(n,c,$){const p=l.root.value;return p?(($?p.offsetHeight:p.offsetWidth)||0)*(n-c):0}const E=(n,c,$)=>{var p;const T=e(y),F=(p=l.items.value.length)!=null?p:Number.NaN,w=n===c;!T&&!Qe($)&&(I.value=w||n===$),!w&&F>2&&l.loop&&(n=D(n,c,F));const i=e(_);L.value=w,T?(h.value=Math.round(Math.abs(n-c))<=1,s.value=j(n,c),S.value=e(L)?1:A):s.value=M(n,c,i),g.value=!0,w&&k.value&&l.setContainerHeight(k.value.offsetHeight)};function d(){if(l&&e(y)){const n=l.items.value.findIndex(({uid:c})=>c===o.uid);l.setActiveItem(n)}}return Ce(()=>{l.addItem({props:a,states:qe({hover:P,translate:s,scale:S,active:L,ready:g,inStage:h,animating:I}),uid:o.uid,translateItem:E})}),Je(()=>{l.removeItem(o.uid)}),{carouselItemRef:k,active:L,animating:I,hover:P,inStage:h,isVertical:_,translate:s,isCardType:y,scale:S,ready:g,handleItemClick:d}},Bt=se({name:"ElCarouselItem"}),At=se({...Bt,props:Lt,setup(a){const z=a,l=we("carousel"),{carouselItemRef:o,active:A,animating:k,hover:P,inStage:s,isVertical:S,translate:L,isCardType:g,scale:h,ready:I,handleItemClick:y}=Mt(z),_=R(()=>[l.e("item"),l.is("active",A.value),l.is("in-stage",s.value),l.is("hover",P.value),l.is("animating",k.value),{[l.em("item","card")]:g.value,[l.em("item","card-vertical")]:g.value&&S.value}]),D=R(()=>{const M=`${`translate${e(S)?"Y":"X"}`}(${e(L)}px)`,E=`scale(${e(h)})`;return{transform:[M,E].join(" ")}});return(j,M)=>ee((B(),V("div",{ref_key:"carouselItemRef",ref:o,class:O(e(_)),style:ke(e(D)),onClick:M[0]||(M[0]=(...E)=>e(y)&&e(y)(...E))},[e(g)?ee((B(),V("div",{key:0,class:O(e(l).e("mask"))},null,2)),[[te,!e(A)]]):Y("v-if",!0),be(j.$slots,"default")],6)),[[te,e(I)]])}});var Te=Se(At,[["__file","carousel-item.vue"]]);const Pt=Ze(Nt,{CarouselItem:Te}),Ht=xe(Te),oe=a=>(tt("data-v-b2f0ac52"),a=a(),at(),a),zt=oe(()=>m("div",{class:"bg"},null,-1)),Dt={class:"hero"},jt={class:"block text-center"},Ot=oe(()=>m("span",{class:"demonstration"},"//本日熱門",-1)),Vt=oe(()=>m("h3",{class:"title"},"目前價位",-1)),Rt={class:"price"},Ft=oe(()=>m("h3",{class:"title"},"倒數天數",-1)),Kt={class:"day"},Gt={class:"product-items"},Ut={class:"love-btn"},Wt=["onClick"],Yt={__name:"MainPage",setup(a){const{products:z,isProductInCollection:l,collect:o}=Ee("collect"),A=[{id:1,img:"https://fakestoreapi.com/img/81fPKd-2AYL._AC_SL1500_.jpg",title:"Fjallraven 15吋筆電包",price:200,countDown:25},{id:2,img:"https://cdn.dummyjson.com/product-images/25/4.jpg",title:"梅子粉",price:50,countDown:8}],k=et(),P=()=>{k.push("/main/category")};return(s,S)=>{const L=ct,g=ft,h=ot,I=nt,y=Ht,_=Pt,D=ut,j=lt,M=it,E=rt;return B(),ae(vt,null,{content:r(()=>[zt,m("div",Dt,[m("div",jt,[Ot,u(_,{height:"400px","motion-blur":""},{default:r(()=>[(B(),V(ce,null,fe(A,d=>u(y,{key:d.id},{default:r(()=>[u(I,{class:"hot-items"},{default:r(()=>[u(h,{span:16},{default:r(()=>[u(g,{shadow:"always"},{footer:r(()=>[W(X(d.title),1)]),default:r(()=>[u(L,{style:{width:"400px",height:"250px"},src:d.img,fit:"cover"},null,8,["src"])]),_:2},1024)]),_:2},1024),u(h,{span:8,class:"hot-items-right"},{default:r(()=>[Vt,m("h1",Rt,"NT$ "+X(d.price),1),Ft,m("p",Kt,X(d.countDown)+"天",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)),64))]),_:1})])]),u(I,{justify:"space-between"},{default:r(()=>[u(h,{span:10},{default:r(()=>[u(D,{size:"large"},{default:r(()=>[W("最新廢物")]),_:1})]),_:1}),u(h,{span:10},{default:r(()=>[u(j,{onClick:P,round:"",size:"large"},{default:r(()=>[W("更多廢物")]),_:1})]),_:1})]),_:1}),m("div",Gt,[u(E,{class:"items"},{default:r(()=>[(B(!0),V(ce,null,fe(e(z),d=>(B(),ae(g,{shadow:"hover",key:d.id},{header:r(()=>[W(X(d.title),1)]),footer:r(()=>[u(I,{justify:"space-between"},{default:r(()=>[u(h,{class:"more",span:8},{default:r(()=>[u(M,{onClick:n=>e(k).push(`/main/productDetail/${d.id}`),underline:!1},{default:r(()=>[W("查看更多")]),_:2},1032,["onClick"])]),_:2},1024),u(h,{class:"price",span:8},{default:r(()=>[u(D,{size:"large",tag:"b"},{default:r(()=>[W("NT$ "+X(d.price),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),default:r(()=>[u(L,{style:{width:"200",height:"250px"},src:d.img,fit:"contain"},null,8,["src"]),m("div",Ut,[m("span",{onClick:n=>e(o)(d.id),class:O(["material-symbols-outlined",{fillLove:e(l)(d.id)}])}," favorite ",10,Wt)])]),_:2},1024))),128))]),_:1})])]),_:1})}}},ea=st(Yt,[["__scopeId","data-v-b2f0ac52"]]);export{ea as default};
